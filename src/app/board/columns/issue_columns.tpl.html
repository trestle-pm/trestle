<div ng-controller="ColumnsCtrl as columnsCtrl" >

  <button class="btn btn-primary backlog"
          ng-click="showBacklog = !showBacklog">
    {{showBacklog ? 'Hide Backlog' : 'Show Backlog'}}
  </button>

  <ul class="issue-columns" >
    <!-- Backlog Column -->
    <li ng-show="showBacklog"

        ng-style="columnsCtrl.getColumnWidth()"

        ng-controller="IssueColumnCtrl as colCtrl"
        ng-init="colCtrl.init({isBacklog:true})" >

      <h1 class="column-header">{{colCtrl.columnName}}</h1>

      <a class="btn btn-success"
         ng-href="https://github.com/{{trReposSrv.owner}}/{{trReposSrv.repo}}/issues/new"
         target="_blank">Create Issue</a>

      <!-- CARDS List -->
      <ul class="column-body" ui-sortable="colCtrl.geSortableOptions()"
                              ng-model="colCtrl.issues" >
        <div class="card_wrapper"
             ng-repeat="issue in colCtrl.issues | filter:main.cardSearchText"
             data-issue-id="{{issue.id}}" >
          <div tr-issue-card issue="issue"></div>
        </div>
      </ul> <!-- end of card list -->
    </li>

    <!-- Kanban Columns -->

    <li ng-repeat="col_label in trReposSrv.config.columns" class="column"
        ng-style="columnsCtrl.getColumnWidth()"

        ng-controller="IssueColumnCtrl as colCtrl"
        ng-init="colCtrl.init({labelName:col_label})" >

      <h1 class="column-header">{{colCtrl.columnName}}</h1>

      <!-- CARDS List -->
      <ul class="column-body" ui-sortable="colCtrl.getSortableOptions()"
                              ng-model="colCtrl.issues" >
        <div class="card_wrapper"
             ng-repeat="issue in colCtrl.issues | filter:main.cardSearchText"
             data-issue-id="{{issue.id}}" >
          <div tr-issue-card issue="issue"></div>
        </div>
      </ul>
      <!-- end of card list -->
    </li>

  </ul>
</div>
